import{S as W,i as G,s as z,k as e,q as g,a as u,l as o,m as l,r as v,h as a,c as r,n as M,b as t,F as w,G as N}from"./index.f054af2f.js";function K(O){let p,E,y,k,I,j,c,A=`<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token comment">//</span>
      <span class="token operator">!</span>window<span class="token punctuation">.</span>jQuery <span class="token operator">&amp;&amp;</span>
  document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">unescape</span><span class="token punctuation">(</span>'<span class="token operator">%</span>3Cscript
   src<span class="token operator">=</span><span class="token string">"file:/C:/local/js/jquery.js"</span><span class="token operator">%</span>3E<span class="token operator">%</span>3C<span class="token operator">/</span>script<span class="token operator">%</span>3E'<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">//--></span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token comment">//</span>
      <span class="token operator">!</span>window<span class="token punctuation">.</span>jQuery<span class="token punctuation">.</span>ui <span class="token operator">&amp;&amp;</span>
  document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">unescape</span><span class="token punctuation">(</span>'<span class="token operator">%</span>3Cscript
   src<span class="token operator">=</span><span class="token string">"file:/C:/local/js/jqueryui.js"</span><span class="token operator">%</span>3E<span class="token operator">%</span>3C<span class="token operator">/</span>script<span class="token operator">%</span>3E'<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//--></span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code>`,_,h,L,q,i,B=`<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file:/C:/local/js/jquery.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file:/C:/local/js/jqueryui.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code>`,C,f,R,b,m,D,x,d,F;return{c(){p=e("p"),E=g("Of course I use this CDN refs to jquery and jquery-ui for my (new) sites, with fallbacks to local versions:"),y=u(),k=e("p"),I=g("…"),j=u(),c=e("pre"),_=u(),h=e("p"),L=g("Weirdly enough, when I have a local page with these includes it takes a full 15 seconds to load the page. But only in Chrome, in FF it is as fast as when loading only the local JS, like this:"),q=u(),i=e("pre"),C=u(),f=e("p"),R=g("This takes less than a second in FF."),b=u(),m=e("p"),D=g("Since this happens when I run a standalone HTML, I could imagine that the protocol relative prefix ”//” of the CDN URLs, is expanded to file:// which of course wouldn’t resolve. And indeed prefixing the URLs with http: solves the problem."),x=u(),d=e("p"),F=g("I can solve this by simply adding a variable in the templates that generate the refs to the CDN. This will insert “http:” before the URLs when testing locally and nothing when running in production."),this.h()},l(s){p=o(s,"P",{});var n=l(p);E=v(n,"Of course I use this CDN refs to jquery and jquery-ui for my (new) sites, with fallbacks to local versions:"),n.forEach(a),y=r(s),k=o(s,"P",{});var P=l(k);I=v(P,"…"),P.forEach(a),j=r(s),c=o(s,"PRE",{class:!0});var J=l(c);J.forEach(a),_=r(s),h=o(s,"P",{});var T=l(h);L=v(T,"Weirdly enough, when I have a local page with these includes it takes a full 15 seconds to load the page. But only in Chrome, in FF it is as fast as when loading only the local JS, like this:"),T.forEach(a),q=r(s),i=o(s,"PRE",{class:!0});var Q=l(i);Q.forEach(a),C=r(s),f=o(s,"P",{});var U=l(f);R=v(U,"This takes less than a second in FF."),U.forEach(a),b=r(s),m=o(s,"P",{});var S=l(m);D=v(S,"Since this happens when I run a standalone HTML, I could imagine that the protocol relative prefix ”//” of the CDN URLs, is expanded to file:// which of course wouldn’t resolve. And indeed prefixing the URLs with http: solves the problem."),S.forEach(a),x=r(s),d=o(s,"P",{});var H=l(d);F=v(H,"I can solve this by simply adding a variable in the templates that generate the refs to the CDN. This will insert “http:” before the URLs when testing locally and nothing when running in production."),H.forEach(a),this.h()},h(){M(c,"class","language-html"),M(i,"class","language-html")},m(s,n){t(s,p,n),w(p,E),t(s,y,n),t(s,k,n),w(k,I),t(s,j,n),t(s,c,n),c.innerHTML=A,t(s,_,n),t(s,h,n),w(h,L),t(s,q,n),t(s,i,n),i.innerHTML=B,t(s,C,n),t(s,f,n),w(f,R),t(s,b,n),t(s,m,n),w(m,D),t(s,x,n),t(s,d,n),w(d,F)},p:N,i:N,o:N,d(s){s&&a(p),s&&a(y),s&&a(k),s&&a(j),s&&a(c),s&&a(_),s&&a(h),s&&a(q),s&&a(i),s&&a(C),s&&a(f),s&&a(b),s&&a(m),s&&a(x),s&&a(d)}}}const X={title:"CDN, Relative URLs and local testing",cover:"",date:"13-05-2013",category:"webdevelopment",tags:["webdevelopment"],preview:`Of course I use this CDN refs to jquery and jquery-ui for my (new) sites, with fallbacks to local versions:

…`,previewHtml:"<p>Of course I use this CDN refs to jquery and jquery-ui for my (new) sites, with fallbacks to local versions:</p> <p>…</p>"};class Y extends W{constructor(p){super(),G(this,p,null,K,z,{})}}export{Y as default,X as metadata};
