import{S as Q,i as A,s as B,k as l,q as d,a as f,l as c,m as i,r as g,h as a,c as m,n as P,b as t,D as w,E as D}from"./index.ce9a7868.js";function J(U){let p,x,j,e,S=`<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token comment">//</span>
      <span class="token operator">!</span>window<span class="token punctuation">.</span>jQuery <span class="token operator">&amp;&amp;</span>
  document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">unescape</span><span class="token punctuation">(</span>'<span class="token operator">%</span>3Cscript
   src<span class="token operator">=</span><span class="token string">"file:/C:/local/js/jquery.js"</span><span class="token operator">%</span>3E<span class="token operator">%</span>3C<span class="token operator">/</span>script<span class="token operator">%</span>3E'<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">//--></span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token comment">//</span>
      <span class="token operator">!</span>window<span class="token punctuation">.</span>jQuery<span class="token punctuation">.</span>ui <span class="token operator">&amp;&amp;</span>
  document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">unescape</span><span class="token punctuation">(</span>'<span class="token operator">%</span>3Cscript
   src<span class="token operator">=</span><span class="token string">"file:/C:/local/js/jqueryui.js"</span><span class="token operator">%</span>3E<span class="token operator">%</span>3C<span class="token operator">/</span>script<span class="token operator">%</span>3E'<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//--></span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code>`,y,u,b,v,o,H=`<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file:/C:/local/js/jquery.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file:/C:/local/js/jqueryui.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code>`,_,r,E,q,k,I,C,h,L;return{c(){p=l("p"),x=d("Of course I use this CDN refs to jquery and jquery-ui for my (new) sites, with fallbacks to local versions:"),j=f(),e=l("pre"),y=f(),u=l("p"),b=d("Weirdly enough, when I have a local page with these includes it takes a full 15 seconds to load the page. But only in Chrome, in FF it is as fast as when loading only the local JS, like this:"),v=f(),o=l("pre"),_=f(),r=l("p"),E=d("This takes less than a second in FF."),q=f(),k=l("p"),I=d("Since this happens when I run a standalone HTML, I could imagine that the protocol relative prefix ”//” of the CDN URLs, is expanded to file:// which of course wouldn’t resolve. And indeed prefixing the URLs with http: solves the problem."),C=f(),h=l("p"),L=d("I can solve this by simply adding a variable in the templates that generate the refs to the CDN. This will insert “http:” before the URLs when testing locally and nothing when running in production."),this.h()},l(s){p=c(s,"P",{});var n=i(p);x=g(n,"Of course I use this CDN refs to jquery and jquery-ui for my (new) sites, with fallbacks to local versions:"),n.forEach(a),j=m(s),e=c(s,"PRE",{class:!0});var M=i(e);M.forEach(a),y=m(s),u=c(s,"P",{});var R=i(u);b=g(R,"Weirdly enough, when I have a local page with these includes it takes a full 15 seconds to load the page. But only in Chrome, in FF it is as fast as when loading only the local JS, like this:"),R.forEach(a),v=m(s),o=c(s,"PRE",{class:!0});var O=i(o);O.forEach(a),_=m(s),r=c(s,"P",{});var N=i(r);E=g(N,"This takes less than a second in FF."),N.forEach(a),q=m(s),k=c(s,"P",{});var F=i(k);I=g(F,"Since this happens when I run a standalone HTML, I could imagine that the protocol relative prefix ”//” of the CDN URLs, is expanded to file:// which of course wouldn’t resolve. And indeed prefixing the URLs with http: solves the problem."),F.forEach(a),C=m(s),h=c(s,"P",{});var T=i(h);L=g(T,"I can solve this by simply adding a variable in the templates that generate the refs to the CDN. This will insert “http:” before the URLs when testing locally and nothing when running in production."),T.forEach(a),this.h()},h(){P(e,"class","language-html"),P(o,"class","language-html")},m(s,n){t(s,p,n),w(p,x),t(s,j,n),t(s,e,n),e.innerHTML=S,t(s,y,n),t(s,u,n),w(u,b),t(s,v,n),t(s,o,n),o.innerHTML=H,t(s,_,n),t(s,r,n),w(r,E),t(s,q,n),t(s,k,n),w(k,I),t(s,C,n),t(s,h,n),w(h,L)},p:D,i:D,o:D,d(s){s&&a(p),s&&a(j),s&&a(e),s&&a(y),s&&a(u),s&&a(v),s&&a(o),s&&a(_),s&&a(r),s&&a(q),s&&a(k),s&&a(C),s&&a(h)}}}const z={title:"CDN, Relative URLs and local testing",cover:"",date:"13-05-2013",category:"webdevelopment",tags:["webdevelopment"],preview:`Of course I use this CDN refs to jquery and jquery-ui for my (new) sites, with fallbacks to local versions:

`,previewHtml:'<p>Of course I use this CDN refs to jquery and jquery-ui for my (new) sites, with fallbacks to local versions:</p> <pre><code>&#x3C;script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">&#x3C;/script> &#x3C;script> &#x3C;!--// !window.jQuery &#x26;&#...</code></pre>'};class G extends Q{constructor(p){super(),A(this,p,null,J,B,{})}}export{G as default,z as metadata};
